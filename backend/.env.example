# ==============================================
# CONFIGURACIÓN DE AMBIENTE
# ==============================================
ENV=dev

# ==============================================
# BASE DE DATOS
# ==============================================
DATABASE_URL=postgresql+psycopg2://postgres:postgres@db:5432/territorial

# ==============================================
# ALERTAS
# ==============================================
ALERT_WEBHOOK_URL=

# ==============================================
# GEOSPARSING CON IA (OPCIONAL)
# ==============================================
# El sistema funciona sin estas configuraciones usando spaCy o regex.
# Configura una API key para mejorar la precisión del geosparsing.

# Proveedor de IA: "openai" o "anthropic"
AI_PROVIDER=openai

# --- OPCIÓN 1: OpenAI (GPT-4, GPT-3.5) ---
# Obtener API key en: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# OPENAI_MODEL=gpt-4o-mini  # Opciones: gpt-4o, gpt-4o-mini, gpt-3.5-turbo

# --- OPCIÓN 2: Anthropic (Claude) ---
# Obtener API key en: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=sk-ant-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022  # Opciones: claude-3-5-sonnet-20241022, claude-3-haiku-20240307

# ==============================================
# INSTRUCCIONES PARA HABILITAR IA
# ==============================================
#
# 1. INSTALAR DEPENDENCIAS DE IA:
#    - Para OpenAI: pip install openai>=1.12.0
#    - Para Anthropic: pip install anthropic>=0.18.0
#
# 2. DESCOMENTAR Y CONFIGURAR API KEY ARRIBA
#
# 3. REINICIAR EL BACKEND:
#    docker-compose restart backend
#    O: docker-compose up -d --build backend
#
# 4. VERIFICAR QUE FUNCIONA:
#    - Revisa los logs: docker-compose logs -f backend
#    - El sistema debería mostrar "✅ Geosparsing con IA habilitado"
#
# 5. CONSULTAR TRAZABILIDAD:
#    GET /signals/{signal_id}/geosparsing-trace
#    Retorna información completa sobre topónimos detectados
#
# ==============================================
# NOTAS IMPORTANTES
# ==============================================
# - SIN IA: El sistema usa spaCy NER o regex (funciona pero es menos preciso)
# - CON IA: Detección más precisa, desambiguación contextual, scoring multi-señal
# - TRAZABILIDAD: Siempre se guarda qué topónimo se detectó, dónde y por qué
# - COSTOS: OpenAI cobra por uso, Claude también. Estima ~$0.01-0.05 por noticia
# - PRIVACIDAD: Los textos se envían a la API del proveedor elegido
#
